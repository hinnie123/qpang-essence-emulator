#ifndef LOBBY_NOTIFY_RESPONSE_EVENT_HPP
#define LOBBY_NOTIFY_RESPONSE_EVENT_HPP

#include <boost/lexical_cast.hpp>
#include <cstdint>
#include <array>
#include "packet_event.hpp"
#include "packet_data.hpp"



class LobbyNotifyResponseEvent : public PacketEvent {

public:
	LobbyNotifyResponseEvent(uint32_t userId, std::array<uint8_t, 16> uuid) { m_userId = userId; m_uuid = uuid; };

	ServerPacket Compose(Connection::Ptr conn) override {
		auto packet = ServerPacket::Create<Opcode::LOBBY_NOTIFY_RSP>();

		packet.WriteInt(m_userId); 
		packet.WriteFlag(m_userId != NULL); // is this user valid?
		packet.WriteArray<uint8_t, 16>(m_uuid); // uuid generated by authentication server

		return packet;
	};

private:
	uint32_t m_userId;
	std::array<uint8_t, 16> m_uuid;
};

#endif